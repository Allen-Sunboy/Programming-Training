# 作业5说明文档

六个文件夹，problem1是第一题的源文件，problem1_release是第一题的release，其中有problem1.exe以及所需的dll文件，problem2 3同理。

## 第1题
运行problem1.exe，主窗口会看到2个qTextEdit，在左边的edit里输入内容，然后按下回车键，可以看到之前输入的文本清空了，并且添加到了右边的edit。

由于每次按回车都是进行上述操作，所以每次“转移”的字符串都是一行行的转移。

实现方式是事件过滤器。在mainwindow中给textEdit_1设置了eventFilter()。
如果被观察对象watched是textEdit_1且事件类型是keyevent，并且所按下的键是回车键，那么textEdit_2添加textEdit_1中的文本，textEdit_1内容清空，并返回true。否则返回false。


## 第2题
运行problem2.exe，左上角菜单栏选择“菜单”-选择”设置日期“，然后会弹出一个对话窗口，3个空格中输入阿拉伯数字的年月日，然后点击ok。

如果输入合法，则会弹出一个qmessagebox显示之前所输入的日期。“您输入的日期是：x年x月x日。”

如果不合法，则会弹出qmessagebox提示不合法。“您输入的年月日中存在不合法的数据！”

上述messagebox关闭后，会仍保留对话框的输入界面，进行修改。

几种可能的不合法的情况：

1. 输入的内容不是阿拉伯数字，或不全是数字而包含其他类型字符串（包括空格），或者数字以0开头，或者数字是负数，或者没有输入内容。
2. 输入的年月日在理论上不存在，比如2月33日，14月3日，再比如2001年2月30日，2100年2月29日（2100年不是闰年）。

实现方式是先通过正则表达式进行步骤1的判定。然后通过数字大小以及平年闰年、大月小月等等进行步骤2的判定。

这里月份使用了名为month的qint64数组表示该月份的最大天数，下标对应具体月份，比如month[3]的值为31。


## 第3题
运行problem3.exe，每次点击图片即可切换图片。

problem3文件夹里有image文件夹，用于存放显示的图片png，一共4张。

项目中建了一个名为res的qrc文件，加了/res前缀，添加了这4张图片，方便文件路径的调用。

mainwindow中用一个qstring类数组image来存这4个图的地址，用一qint64变量now表示当前显示的图片是第几张。

设置了qpixmap类的指针pixmap，用于load图片。

主窗口的初始化时，按钮的图片先显示为第1张图片，也就是image[0]地址所对应的图片，之后点击按钮的时候再改动。

设置了槽函数changeImage()，每次设置和改变图片时，都修改了按钮大小以及按钮的icon大小为所要显示的图片大小，并修改now的值。

